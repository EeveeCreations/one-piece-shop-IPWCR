"use strict";(self.webpackChunkone_piece_shop=self.webpackChunkone_piece_shop||[]).push([[933],{3933:(F,m,s)=>{s.r(m),s.d(m,{AuthModule:()=>x});var d=s(6019),e=s(8651),c=s(1288),t=s(3019),u=s(5071);let p=(()=>{class o{constructor(r,n,a){this.authService=r,this.router=n,this.activeRoute=a,this.isLogIn=!1}ngOnInit(){}onSwitchMode(){this.isLogIn=!this.isLogIn,this.isLogIn?this.router.navigate(["login"],{relativeTo:this.activeRoute}):this.router.navigate(["/register"])}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.e),t.Y36(c.F0),t.Y36(c.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-authentication"]],decls:8,vars:1,consts:[[1,"container","col-xs-12","background"],[1,"container-fluid"],[1,"col-sm-12","filer-section"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-sm-12","auth-form"]],template:function(r,n){1&r&&(t.TgZ(0,"article",0),t.TgZ(1,"section",1),t.TgZ(2,"section",2),t._UZ(3,"figure"),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.onSwitchMode()}),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"section",4),t._UZ(7,"router-outlet"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(5),t.hij(" ",n.isLogIn?"Switch to Sign up":"Switch to Login",""))},directives:[c.lC],styles:[".auth-form[_ngcontent-%COMP%]{text-align:center;padding:0 10% 10%}form[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2%}button[_ngcontent-%COMP%]{color:var(--white);font-weight:900}.auth-form[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]{font-size:32px}loginForm[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], auth-form.loginForm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input[_ngcontent-%COMP%]{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox][_ngcontent-%COMP%]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid[_ngcontent-%COMP%]   .ng-touched[_ngcontent-%COMP%]{border:3px solid var(--master_primairy_color)}.filer-section[_ngcontent-%COMP%]{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}"]}),o})();var h=s(3993),g=s(645);let b=(()=>{class o{constructor(r){this.authService=r}ngOnInit(){this.initForm()}onSubmit(){!this.userForm.valid||this.checkAuthentication()}initForm(){this.userForm=new e.cw({name:new e.NI(null,[e.kI.required]),email:new e.NI(null,[e.kI.required,e.kI.email]),password:new e.NI(null)})}checkAuthentication(){const r=this.userForm.get("name").value,n=this.userForm.get("password").value;let a;const l=this.userForm.get("email").value;let Z=[new h.i(1,"CLIENT")],k=new g.k(r,l,n,Z);a=this.authService.signUp(k),a.subscribe(C=>{console.log(C)}),this.userForm.reset()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],outputs:{userForm:"form"},decls:23,vars:2,consts:[[1,"loginForm","col-xs-12",3,"formGroup"],["for","name"],["id","name","type","name","formControlName","name"],["for","email"],["id","email","type","email","formControlName","email"],["for","pass"],["id","pass","type","password","formControlName","password"],["for","passCheck"],["id","passCheck","type","password"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"User name: "),t.qZA(),t._UZ(3,"br"),t._UZ(4,"input",2),t._UZ(5,"br"),t.TgZ(6,"label",3),t._uU(7,"E-mail: "),t.qZA(),t._UZ(8,"br"),t._UZ(9,"input",4),t._UZ(10,"br"),t._UZ(11,"br"),t.TgZ(12,"label",5),t._uU(13,"Password: "),t.qZA(),t._UZ(14,"br"),t._UZ(15,"input",6),t._UZ(16,"br"),t.TgZ(17,"label",7),t._uU(18,"checkPassword "),t.qZA(),t._UZ(19,"br"),t._UZ(20,"input",8),t.qZA(),t.TgZ(21,"button",9),t.NdJ("click",function(){return n.onSubmit()}),t._uU(22,"Sign up!"),t.qZA()),2&r&&(t.Q6J("formGroup",n.userForm),t.xp6(21),t.Q6J("disabled",!n.userForm.valid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u],styles:[".auth-form{text-align:center;padding:0 10% 10%}form,.auth-form button{padding:2%}button{color:var(--white);font-weight:900}.auth-form button.btn-primary{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm,.auth-form{font-size:32px}loginForm>label,auth-form.loginForm>div>label{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid .ng-touched{border:3px solid var(--master_primairy_color)}.filer-section{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section>figure{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section>button{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}\n"],encapsulation:2}),o})(),f=(()=>{class o{constructor(r){this.authService=r}ngOnInit(){this.initForm()}initForm(){this.userForm=new e.cw({name:new e.NI(null,[e.kI.required]),password:new e.NI(null,[e.kI.required,e.kI.min(6)])})}onSubmit(){!this.userForm.valid||this.checkAuthentication()}checkAuthentication(){const r=this.userForm.get("name").value,n=this.userForm.get("password").value;let a;a=this.authService.logIn(r,n),a.subscribe(l=>{},l=>{this.error=l}),this.userForm.reset()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"loginForm","col-xs-12",3,"formGroup"],["for","name"],["id","name","type","name","formControlName","name"],["for","pass"],["id","pass","type","password","formControlName","password"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"User name: "),t.qZA(),t._UZ(3,"br"),t._UZ(4,"input",2),t._UZ(5,"br"),t._UZ(6,"br"),t.TgZ(7,"label",3),t._uU(8,"Password: "),t.qZA(),t._UZ(9,"br"),t._UZ(10,"input",4),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return n.onSubmit()}),t._uU(13,"Log in"),t.qZA()),2&r&&(t.Q6J("formGroup",n.userForm),t.xp6(12),t.Q6J("disabled",!n.userForm.valid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u],styles:[".auth-form{text-align:center;padding:0 10% 10%}form,.auth-form button{padding:2%}button{color:var(--white);font-weight:900}.auth-form button.btn-primary{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm,.auth-form{font-size:32px}loginForm>label,auth-form.loginForm>div>label{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid .ng-touched{border:3px solid var(--master_primairy_color)}.filer-section{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section>figure{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section>button{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}\n"],encapsulation:2}),o})();var _=s(3453),v=s(2201);const w=[{path:"",component:p,canActivate:[(()=>{class o{constructor(r,n){this.router=r,this.authService=n}canActivate(r,n){return this.authService.user.pipe((0,_.q)(1),(0,v.U)(a=>!a||this.router.createUrlTree(["../admin"])))}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(c.F0),t.LFG(u.e))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()],children:[{path:"",component:b},{path:"login",component:f}]}];let y=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[c.Bz.forChild(w)],c.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[d.ez,e.UX,y]]}),o})()}}]);