"use strict";(self.webpackChunkone_piece_shop=self.webpackChunkone_piece_shop||[]).push([[881],{8881:(y,m,s)=>{s.r(m),s.d(m,{AuthModule:()=>v});var g=s(6019),e=s(8651),l=s(1288),t=s(3019),u=s(5071);let h=(()=>{class o{constructor(r,n,a){this.authService=r,this.router=n,this.activeRoute=a,this.isLogIn=!1}ngOnInit(){}onSwitchMode(){this.isLogIn=!this.isLogIn,this.isLogIn?this.router.navigate(["login"],{relativeTo:this.activeRoute}):this.router.navigate(["/register"])}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.e),t.Y36(l.F0),t.Y36(l.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-authentication"]],decls:8,vars:1,consts:[[1,"container","col-xs-12","background"],[1,"container-fluid"],[1,"col-sm-12","filer-section"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-sm-12","auth-form"]],template:function(r,n){1&r&&(t.TgZ(0,"article",0),t.TgZ(1,"section",1),t.TgZ(2,"section",2),t._UZ(3,"figure"),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.onSwitchMode()}),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"section",4),t._UZ(7,"router-outlet"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(5),t.hij(" ",n.isLogIn?"Switch to Sign up":"Switch to Login",""))},directives:[l.lC],styles:[".auth-form[_ngcontent-%COMP%]{text-align:center;padding:0 10% 10%}form[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2%}button[_ngcontent-%COMP%]{color:var(--white);font-weight:900}.auth-form[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]{font-size:32px}loginForm[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], auth-form.loginForm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input[_ngcontent-%COMP%]{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox][_ngcontent-%COMP%]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid[_ngcontent-%COMP%]   .ng-touched[_ngcontent-%COMP%]{border:3px solid var(--master_primairy_color)}.filer-section[_ngcontent-%COMP%]{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}"]}),o})();var d=s(3993),b=s(645);const _=[{path:"",component:h,children:[{path:"",component:(()=>{class o{constructor(r){this.authService=r}ngOnInit(){this.initForm()}onSubmit(){!this.userForm.valid||this.checkAuthentication()}initForm(){this.userForm=new e.cw({name:new e.NI(null,[e.kI.required]),email:new e.NI(null,[e.kI.required,e.kI.email]),password:new e.NI(null,[e.kI.required,e.kI.min(6)]),admin:new e.NI(null)})}checkAuthentication(){const r=this.userForm.get("name").value,n=this.userForm.get("password").value;let a;const c=this.userForm.get("email").value,w=this.userForm.get("admin").touched;let p=[new d.i(null,"CLIENT")];w&&p.push(new d.i(null,"ADMIN"));let Z=new b.k(r,c,n,p);a=this.authService.signUp(Z),a.subscribe(x=>{console.log(x)}),this.userForm.reset()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],outputs:{userForm:"form"},decls:30,vars:2,consts:[[1,"loginForm","col-xs-12",3,"formGroup"],["for","name"],["id","name","type","name","formControlName","name"],["for","email"],["id","email","type","email","formControlName","email"],["id","admin","value","true","type","checkbox","formControlName","admin"],["for","admin"],["for","pass"],["id","pass","type","password","formControlName","password"],["for","passCheck"],["id","passCheck","type","password"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"User name: "),t.qZA(),t._UZ(3,"br"),t._UZ(4,"input",2),t._UZ(5,"br"),t.TgZ(6,"label",3),t._uU(7,"E-mail: "),t.qZA(),t._UZ(8,"br"),t._UZ(9,"input",4),t._UZ(10,"br"),t.TgZ(11,"label"),t._uU(12,"Admin rights: "),t.qZA(),t._UZ(13,"br"),t._UZ(14,"input",5),t.TgZ(15,"label",6),t._uU(16,"Admin"),t.qZA(),t._UZ(17,"br"),t._UZ(18,"br"),t.TgZ(19,"label",7),t._uU(20,"Password: "),t.qZA(),t._UZ(21,"br"),t._UZ(22,"input",8),t._UZ(23,"br"),t.TgZ(24,"label",9),t._uU(25,"checkPassword "),t.qZA(),t._UZ(26,"br"),t._UZ(27,"input",10),t.qZA(),t.TgZ(28,"button",11),t.NdJ("click",function(){return n.onSubmit()}),t._uU(29,"Sign up!"),t.qZA()),2&r&&(t.Q6J("formGroup",n.userForm),t.xp6(28),t.Q6J("disabled",!n.userForm.valid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,e.Wl],styles:[".auth-form{text-align:center;padding:0 10% 10%}form,.auth-form button{padding:2%}button{color:var(--white);font-weight:900}.auth-form button.btn-primary{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm,.auth-form{font-size:32px}loginForm>label,auth-form.loginForm>div>label{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid .ng-touched{border:3px solid var(--master_primairy_color)}.filer-section{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section>figure{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section>button{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}\n"],encapsulation:2}),o})()},{path:"login",component:(()=>{class o{constructor(r){this.authService=r}ngOnInit(){this.initForm()}initForm(){this.userForm=new e.cw({name:new e.NI(null,[e.kI.required]),password:new e.NI(null,[e.kI.required,e.kI.min(6)])})}onSubmit(){!this.userForm.valid||this.checkAuthentication()}checkAuthentication(){const r=this.userForm.get("name").value,n=this.userForm.get("password").value;let a;a=this.authService.logIn(r,n),a.subscribe(c=>{},c=>{this.error=c}),this.userForm.reset()}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(u.e))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"loginForm","col-xs-12",3,"formGroup"],["for","name"],["id","name","type","name","formControlName","name"],["for","pass"],["id","pass","type","password","formControlName","password"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"User name: "),t.qZA(),t._UZ(3,"br"),t._UZ(4,"input",2),t._UZ(5,"br"),t._UZ(6,"br"),t.TgZ(7,"label",3),t._uU(8,"Password: "),t.qZA(),t._UZ(9,"br"),t._UZ(10,"input",4),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return n.onSubmit()}),t._uU(13,"Log in"),t.qZA()),2&r&&(t.Q6J("formGroup",n.userForm),t.xp6(12),t.Q6J("disabled",!n.userForm.valid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u],styles:[".auth-form{text-align:center;padding:0 10% 10%}form,.auth-form button{padding:2%}button{color:var(--white);font-weight:900}.auth-form button.btn-primary{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm,.auth-form{font-size:32px}loginForm>label,auth-form.loginForm>div>label{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid .ng-touched{border:3px solid var(--master_primairy_color)}.filer-section{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section>figure{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section>button{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}\n"],encapsulation:2}),o})()}]}];let f=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[l.Bz.forChild(_)],l.Bz]}),o})(),v=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,e.UX,f]]}),o})()}}]);