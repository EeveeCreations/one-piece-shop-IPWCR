"use strict";(self.webpackChunkone_piece_shop=self.webpackChunkone_piece_shop||[]).push([[456],{5424:(v,d,i)=>{i.d(d,{M:()=>t});var c=i(3019),s=i(7534),l=i(7296);let t=(()=>{class a{constructor(u,m){this.requestService=u,this.productService=m}resolve(u,m){const g=this.productService.getProducts();return 0===g.length?this.requestService.requestOfProduct("all","get",null):g}}return a.\u0275fac=function(u){return new(u||a)(c.LFG(s.s),c.LFG(l.M))},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},456:(v,d,i)=>{i.r(d),i.d(d,{ShopModule:()=>N});var c=i(6019),s=i(8651),l=i(1978),t=i(3019),a=i(7296);let f=(()=>{class e{constructor(n){this.elRef=n,this.isOpen=!1,this.PATH_OF_ELEMENT=12}toggleOpen(n){this.isOpen&&!(n.composedPath().length<=this.PATH_OF_ELEMENT)||(this.isOpen=!!this.elRef.nativeElement.contains(n.target)&&!this.isOpen)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(t.SBq))},e.\u0275dir=t.lG2({type:e,selectors:[["","appDropdown",""]],hostVars:2,hostBindings:function(n,o){1&n&&t.NdJ("click",function(_){return o.toggleOpen(_)},!1,t.evT),2&n&&t.ekj("open",o.isOpen)}}),e})(),u=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-filter-item"]],inputs:{category:"category"},decls:4,vars:3,consts:[[1,"filterItem",3,"id"],[3,"for"],["type","checkbox","name","filter"]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.TgZ(1,"label",1),t._UZ(2,"input",2),t._uU(3),t.qZA(),t.qZA()),2&n&&(t.Q6J("id",o.category),t.xp6(1),t.Q6J("for",o.category),t.xp6(2),t.hij(" ",o.category,""))},styles:[".filters[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%], checked[_ngcontent-%COMP%]{cursor:pointer;height:20px;width:20px}"]}),e})();function m(e,r){1&e&&t._UZ(0,"app-filter-item",6),2&e&&t.Q6J("category",r.$implicit)}let g=(()=>{class e{constructor(n){this.productService=n}ngOnInit(){this.productEvent=this.productService.productEvent.subscribe(n=>{this.products=n,this.setAllCategories()}),this.products=this.productService.getProducts(),this.setAllCategories()}setAllCategories(){let n=[];for(const o of this.products)for(const p of o.category.split(","))-1==n.indexOf(p.toLowerCase())&&n.push(p.toLowerCase());this.productCategories=n.sort()}ngOnDestroy(){this.productEvent.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-filters"]],decls:8,vars:1,consts:[[1,"cssSelection","filters","background","col-xs-12"],["appDropdown","",1,"dropdown","filterset"],[1,"col-md-12"],[1,"caret"],[1,"dropdown-menu"],["class"," col-sm-2 col-xs-6",3,"category",4,"ngFor","ngForOf"],[1,"col-sm-2","col-xs-6",3,"category"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"header",2),t.TgZ(3,"h2"),t._uU(4,"Filters "),t._UZ(5,"span",3),t.qZA(),t.qZA(),t.TgZ(6,"section",4),t.YNc(7,m,1,1,"app-filter-item",5),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(7),t.Q6J("ngForOf",o.productCategories))},directives:[f,c.sg,u],styles:[".filters[_ngcontent-%COMP%]{text-align:left;font-size:110%;color:var(--master_third_color);grid-column:auto/span 2}.filterset[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:5px;padding-top:5px;border-top:1px solid var(--master_third_color)}.filters[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{background:none;border:none;box-shadow:none;position:relative}"]}),e})(),y=(()=>{class e{constructor(n){this.shoppingCartService=n,this.cartSubscription=this.shoppingCartService.shoppingCartEvent.subscribe(o=>{this.cart=o})}ngOnInit(){}onBuyCart(){this.shoppingCartService.buyTheCart(!0)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shopping-cart"]],decls:5,vars:1,consts:[[1,"ShoppingCart",3,"click"],[1,"counter"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0),t.NdJ("click",function(){return o.onBuyCart()}),t.TgZ(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"p"),t._uU(4,"\u{1f6d2}"),t.qZA(),t.qZA()),2&n&&(t.xp6(2),t.Oqu(o.cart.amountOfProducts))},styles:[".ShoppingCart[_ngcontent-%COMP%], .counter[_ngcontent-%COMP%]{cursor:pointer;right:10vh;top:20vh;z-index:2;position:fixed;text-align:center;height:70px;width:70px;font-size:45px;border-radius:50%;border:5px solid var(--master_primairy_color);background:var(--master_secundairy_color)}.counter[_ngcontent-%COMP%]{vertical-align:top;position:absolute;height:30px;width:30px;font-size:25px;top:-10px;right:-10px;border-style:none;background:var(--master_primairy_color)}@keyframes dance{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),e})();var Z=i(3993),h=i(1288),O=i(8576);function P(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=r.$implicit;t.xp6(1),t.Oqu(n.product.name)}}let C=(()=>{class e{constructor(n,o,p,_){this.router=n,this.activeRoute=o,this.cartService=p,this.authService=_}ngOnInit(){this.paymentSubscription=this.cartService.paymentEvent.subscribe(n=>{this.inPayingMode=n,this.cart=this.cartService.returnCart(),this.cartItems=this.cart.cartItems,console.log(this.cart)}),this.initForm()}initForm(){this.clientForm=new s.cw({name:new s.NI(name,s.kI.required),mail:new s.NI(null,[s.kI.email,s.kI.required])})}onPaymentSucceed(){const n=this.clientForm.get("mail").value,o=this.clientForm.get("name").value;this.authService.signUp(n,o,"",[new Z.i(3,"UN_REG_CLIENT")]),this.router.navigate(["./payForCart"],{relativeTo:this.activeRoute}),this.cartService.buyTheCart(!1)}onCancelPayment(){this.cartService.buyTheCart(!1)}ngOnDestroy(){this.paymentSubscription.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(h.F0),t.Y36(h.gz),t.Y36(l.F),t.Y36(O.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment"]],decls:25,vars:3,consts:[[1,"container-fluid"],[1,"col-sm-4","background","window"],[4,"ngFor","ngForOf"],["formGroupName","client",1,"col-xs-12"],["for","cName"],["formControlName","name","type","text","id","cName"],["for","cMail"],["formControlName","name","type","email","id","cMail","required",""],[1,"btn-group","col-xs-12"],[1,"premBut","btn","col-xs-6",3,"disabled","click"],[1,"no","col-xs-6",3,"click"]],template:function(n,o){1&n&&(t.TgZ(0,"article",0),t.TgZ(1,"section",1),t.TgZ(2,"header"),t.TgZ(3,"h2"),t._uU(4,"Pay cart"),t.qZA(),t.qZA(),t.TgZ(5,"p"),t._uU(6,"Your total will be: \u20ac"),t.TgZ(7,"span"),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"p"),t._uU(10,"Your cart is filled with: "),t.YNc(11,P,2,1,"span",2),t.qZA(),t.TgZ(12,"form",3),t.TgZ(13,"label",4),t._uU(14,"Name "),t.qZA(),t._UZ(15,"input",5),t._UZ(16,"br"),t.TgZ(17,"label",6),t._uU(18,"E-mail * "),t.qZA(),t._UZ(19,"input",7),t.qZA(),t.TgZ(20,"section",8),t.TgZ(21,"button",9),t.NdJ("click",function(){return o.onPaymentSucceed()}),t._uU(22,"Pay"),t.qZA(),t.TgZ(23,"p",10),t.NdJ("click",function(){return o.onCancelPayment()}),t._uU(24,"Don't pay yet"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(8),t.hij("",o.cart.totalPrice," "),t.xp6(3),t.Q6J("ngForOf",o.cartItems),t.xp6(10),t.Q6J("disabled",!o.clientForm.valid))},directives:[c.sg,s._Y,s.JL,s.x0,s.Fj,s.JJ,s.u,s.Q7],styles:[".window[_ngcontent-%COMP%]{z-index:99;position:fixed;text-align:center;padding:10px;min-width:400px;border:5px solid var(--master_third_color)}.window[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{text-align:center;width:60%}.premBut[_ngcontent-%COMP%]{background:var(--master_primairy_color_light)}.no[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;width:40%;text-align:right;font-size:80%;text-decoration:underline}"]}),e})(),T=(()=>{class e{constructor(){}ngOnInit(){}isProductInCart(){return!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-alert"]],decls:8,vars:4,consts:[[1,"addWindow","background",3,"ngStyle"],[1,"premBut"],[1,"no"]],template:function(n,o){1&n&&(t.TgZ(0,"section",0),t.TgZ(1,"header"),t.TgZ(2,"h2"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"button",1),t._uU(5),t.qZA(),t.TgZ(6,"p",2),t._uU(7),t.qZA(),t.qZA()),2&n&&(t.Q6J("ngStyle",o.isProductInCart()?"add":"delete"),t.xp6(3),t.Oqu(o.isProductInCart()?"AddItem To Cart":"Delete item from Cart"),t.xp6(2),t.Oqu(o.isProductInCart()?"Add":"Delete"),t.xp6(2),t.hij("",o.isProductInCart()?"Dont add":"Dont delete","}"))},directives:[c.PC],styles:[".window[_ngcontent-%COMP%]{top:40vh;z-index:99;position:fixed;text-align:center;padding:30px;width:400px;height:-moz-fit-content;height:fit-content;border:5px solid var(--master_third_color)}.window[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{width:60%}.premBut[_ngcontent-%COMP%]{background:var(--master_primairy_color_light)}.no[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;width:40%;text-align:right;font-size:80%;text-decoration:underline}"]}),e})();var x=i(242);let S=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-detail"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"detail works!"),t.qZA())},styles:[""]}),e})();const A=["element"];function I(e,r){1&e&&t._UZ(0,"app-detail")}let M=(()=>{class e{constructor(n,o){this.shoppingCartService=n,this.shopService=o,this.inCart=!0}ngOnInit(){this.inCart=this.shoppingCartService.seeIfItemInCart(this.product),this.inCart&&this.element.nativeElement.classList.add("added")}alertToEvent(){this.shopService.GiveAlertAboutItem(this.product)}OnClickProduct(){}isInCart(){return this.inCart}ngOnChanges(n){this.inCart=this.shoppingCartService.seeIfItemInCart(this.product),this.inCart&&(this.element.nativeElement.className="added")}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.F),t.Y36(x.d))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-item"]],viewQuery:function(n,o){if(1&n&&t.Gf(A,5),2&n){let p;t.iGM(p=t.CRH())&&(o.element=p.first)}},inputs:{product:"product",index:["i","index"]},features:[t.TTD],decls:7,vars:5,consts:[[1,"col-md-3","col-sm-4","col-lg-2","itemOfShop",3,"click"],["element",""],[3,"src","alt"],[1,"desc"],[4,"ngIf"]],template:function(n,o){1&n&&(t.TgZ(0,"li",0,1),t.NdJ("click",function(){return o.alertToEvent()}),t.TgZ(2,"figure"),t._UZ(3,"img",2),t.TgZ(4,"figcaption",3),t._uU(5),t.qZA(),t.qZA(),t.YNc(6,I,1,0,"app-detail",4),t.qZA()),2&n&&(t.xp6(3),t.s9C("alt",o.product.description),t.Q6J("src",o.product.imagePath,t.LSH),t.xp6(2),t.AsE("",o.product.description," \u20ac ",o.product.price,""),t.xp6(1),t.Q6J("ngIf",o.isHovering))},directives:[c.O5,S],styles:["figcaption.desc[_ngcontent-%COMP%]{background:var(--master_primairy_color);color:var(--white);width:max-content;padding:2px 5px;top:-45px;position:relative}.itemOfShop[_ngcontent-%COMP%], .added[_ngcontent-%COMP%]{border:5px solid var(--master_third_color);height:200px;padding:0;margin:10px}.itemOfShop[_ngcontent-%COMP%]:hover, .added[_ngcontent-%COMP%]:hover{max-width:90vh;margin:2% 0;height:240px;border:5px solid var(--master_secundairy_color);transform:translateY(-10px)}.added[_ngcontent-%COMP%]{border:5px solid var(--master_primairy_color_light)}"]}),e})();function b(e,r){1&e&&t._UZ(0,"app-payment",9)}function F(e,r){1&e&&t._UZ(0,"app-alert")}function w(e,r){if(1&e&&t._UZ(0,"app-item",10),2&e){const o=r.index;t.Q6J("product",r.$implicit)("i",o)}}const E=[{path:"",component:(()=>{class e{constructor(n,o){this.shoppingCartService=n,this.productService=o,this.isInPayMode=!1,this.shopAlert=!1}ngOnDestroy(){this.subscriptionOfPayment.unsubscribe(),this.subscriptionOfProducts.unsubscribe()}ngOnInit(){this.initFilters(),this.shopProducts=this.productService.getProducts(),this.subscriptionOfProducts=this.productService.productEvent.subscribe(n=>{this.shopProducts=n}),this.subscriptionOfPayment=this.shoppingCartService.paymentEvent.subscribe(n=>{this.isInPayMode=n})}initFilters(){for(;this.shopProducts;);}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(l.F),t.Y36(a.M))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-shop"]],features:[t._Bn([l.F])],decls:19,vars:3,consts:[[1,"cssSelections"],[1,"cssSelection","background","col-xs-12"],[1,"col-md-4"],[1,"col-md-8"],["class","container col-xs-12",4,"ngIf"],[4,"ngIf"],[1,"shopSection","col-xs-12"],[1,"col-xs-12"],[3,"product","i",4,"ngFor","ngForOf"],[1,"container","col-xs-12"],[3,"product","i"]],template:function(n,o){1&n&&(t.TgZ(0,"article",0),t.TgZ(1,"section",1),t.TgZ(2,"header",2),t.TgZ(3,"h2"),t._uU(4,"The lil'old shop"),t.qZA(),t.qZA(),t.TgZ(5,"p",3),t.TgZ(6,"strong"),t._uU(7,"OIIIIII!"),t.qZA(),t._UZ(8,"br"),t._uU(9," Here you have it The fandom shop! Enjoy all the options we offer you! And dont forget to check out after you have filled your car."),t._UZ(10,"br"),t._uU(11," We dont want you stealing our stuff. "),t.qZA(),t.qZA(),t._UZ(12,"app-filters"),t.YNc(13,b,1,0,"app-payment",4),t.YNc(14,F,1,0,"app-alert",5),t._UZ(15,"app-shopping-cart"),t.TgZ(16,"section",6),t.TgZ(17,"ul",7),t.YNc(18,w,1,2,"app-item",8),t.qZA(),t.qZA(),t.qZA()),2&n&&(t.xp6(13),t.Q6J("ngIf",o.isInPayMode),t.xp6(1),t.Q6J("ngIf",o.shopAlert),t.xp6(4),t.Q6J("ngForOf",o.shopProducts))},directives:[g,c.O5,y,c.sg,C,T,M],styles:[".shopSection[_ngcontent-%COMP%]{padding-top:20px}.shopSection[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{list-style:none;position:relative}.filters[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;padding:0 15px 0 5px;font-size:110%;font-weight:bolder}.alert-box[_ngcontent-%COMP%]{position:center;vertical-align:center;horiz-align:center;margin:auto}"]}),e})(),resolve:[i(5424).M],children:[{path:"payment",component:C,children:[{path:":cartId",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-complete"]],decls:2,vars:0,template:function(n,o){1&n&&(t.TgZ(0,"p"),t._uU(1,"complete works!"),t.qZA())},styles:[""]}),e})()}]}]}];let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.Bz.forChild(E)],h.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez]]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.ez,k,s.UX,J]]}),e})()}}]);