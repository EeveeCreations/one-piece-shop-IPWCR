"use strict";(self.webpackChunkone_piece_shop=self.webpackChunkone_piece_shop||[]).push([[881],{8881:(b,u,a)=>{a.r(u),a.d(u,{AuthModule:()=>y});var d=a(6019),o=a(8651),i=a(1288),t=a(3019),c=a(5071);let p=(()=>{class e{constructor(r,n,l){this.authService=r,this.router=n,this.activeRoute=l,this.isLogIn=!1}ngOnInit(){}onSwitchMode(){this.isLogIn=!this.isLogIn,this.isLogIn?this.router.navigate(["login"],{relativeTo:this.activeRoute}):this.router.navigate(["/register"])}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(c.e),t.Y36(i.F0),t.Y36(i.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-authentication"]],decls:8,vars:1,consts:[[1,"container","col-xs-12","background"],[1,"container-fluid"],[1,"col-sm-12","filer-section"],["type","button",1,"btn","btn-success",3,"click"],[1,"col-sm-12","auth-form"]],template:function(r,n){1&r&&(t.TgZ(0,"article",0),t.TgZ(1,"section",1),t.TgZ(2,"section",2),t._UZ(3,"figure"),t.TgZ(4,"button",3),t.NdJ("click",function(){return n.onSwitchMode()}),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"section",4),t._UZ(7,"router-outlet"),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(5),t.hij(" ",n.isLogIn?"Switch to Sign up":"Switch to Login",""))},directives:[i.lC],styles:[".auth-form[_ngcontent-%COMP%]{text-align:center;padding:0 10% 10%}form[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2%}button[_ngcontent-%COMP%]{color:var(--white);font-weight:900}.auth-form[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]{font-size:32px}loginForm[_ngcontent-%COMP%] > label[_ngcontent-%COMP%], auth-form.loginForm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input[_ngcontent-%COMP%]{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox][_ngcontent-%COMP%]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid[_ngcontent-%COMP%]   .ng-touched[_ngcontent-%COMP%]{border:3px solid var(--master_primairy_color)}.filer-section[_ngcontent-%COMP%]{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section[_ngcontent-%COMP%] > figure[_ngcontent-%COMP%]{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}"]}),e})();var h=a(3993),f=a(645);let v=(()=>{class e{constructor(r){this.authService=r}ngOnInit(){this.initForm()}onSubmit(){!this.userForm.valid||this.checkAuthentication()}initForm(){this.userForm=new o.cw({name:new o.NI(null,[o.kI.required]),email:new o.NI(null,[o.kI.required,o.kI.email]),password:new o.NI(null,[o.kI.required,o.kI.min(6)]),admin:new o.NI(null)})}checkAuthentication(){const r=this.userForm.get("name").value,n=this.userForm.get("password").value;let l;const g=this.userForm.get("email").value,m=this.userForm.get("admin").touched;let _=[new h.i(null,"CLIENT")];m&&_.push(new h.i(null,"ADMIN"));let k=new f.k(r,g,n,_);l=this.authService.signUp(k),l.subscribe(C=>{console.log(C)}),this.userForm.reset()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(c.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-register"]],outputs:{userForm:"form"},decls:30,vars:2,consts:[[1,"loginForm","col-xs-12",3,"formGroup"],["for","name"],["id","name","type","name","formControlName","name"],["for","email"],["id","email","type","email","formControlName","email"],["id","admin","value","true","type","checkbox","formControlName","admin"],["for","admin"],["for","pass"],["id","pass","type","password","formControlName","password"],["for","passCheck"],["id","passCheck","type","password"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"User name: "),t.qZA(),t._UZ(3,"br"),t._UZ(4,"input",2),t._UZ(5,"br"),t.TgZ(6,"label",3),t._uU(7,"E-mail: "),t.qZA(),t._UZ(8,"br"),t._UZ(9,"input",4),t._UZ(10,"br"),t.TgZ(11,"label"),t._uU(12,"Admin rights: "),t.qZA(),t._UZ(13,"br"),t._UZ(14,"input",5),t.TgZ(15,"label",6),t._uU(16,"Admin"),t.qZA(),t._UZ(17,"br"),t._UZ(18,"br"),t.TgZ(19,"label",7),t._uU(20,"Password: "),t.qZA(),t._UZ(21,"br"),t._UZ(22,"input",8),t._UZ(23,"br"),t.TgZ(24,"label",9),t._uU(25,"checkPassword "),t.qZA(),t._UZ(26,"br"),t._UZ(27,"input",10),t.qZA(),t.TgZ(28,"button",11),t.NdJ("click",function(){return n.onSubmit()}),t._uU(29,"Sign up!"),t.qZA()),2&r&&(t.Q6J("formGroup",n.userForm),t.xp6(28),t.Q6J("disabled",!n.userForm.valid))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,o.Wl],styles:[".auth-form{text-align:center;padding:0 10% 10%}form,.auth-form button{padding:2%}button{color:var(--white);font-weight:900}.auth-form button.btn-primary{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm,.auth-form{font-size:32px}loginForm>label,auth-form.loginForm>div>label{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid .ng-touched{border:3px solid var(--master_primairy_color)}.filer-section{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section>figure{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section>button{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}\n"],encapsulation:2}),e})();var w=a(6801);const Z=[{path:"",component:p,children:[{path:"",component:v},{path:"login",component:(()=>{class e{constructor(r){this.authService=r}ngOnInit(){this.initForm()}initForm(){this.userForm=new o.cw({name:new o.NI(null,[o.kI.required]),password:new o.NI(null,[o.kI.required,o.kI.min(6)])})}onSubmit(){!this.userForm.valid||this.checkAuthentication()}checkAuthentication(){const r=this.userForm.get("name").value,n=this.userForm.get("password").value;let l;l=this.authService.logIn(r,n).pipe((0,w.b)(g=>{l.subscribe(m=>{},m=>{this.error=m})})),this.userForm.reset()}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(c.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:14,vars:2,consts:[[1,"loginForm","col-xs-12",3,"formGroup"],["for","name"],["id","name","type","name","formControlName","name"],["for","pass"],["id","pass","type","password","formControlName","password"],["type","submit",1,"btn","btn-primary",3,"disabled","click"]],template:function(r,n){1&r&&(t.TgZ(0,"form",0),t.TgZ(1,"label",1),t._uU(2,"User name: "),t.qZA(),t._UZ(3,"br"),t._UZ(4,"input",2),t._UZ(5,"br"),t._UZ(6,"br"),t.TgZ(7,"label",3),t._uU(8,"Password: "),t.qZA(),t._UZ(9,"br"),t._UZ(10,"input",4),t._UZ(11,"br"),t.qZA(),t.TgZ(12,"button",5),t.NdJ("click",function(){return n.onSubmit()}),t._uU(13,"Log in"),t.qZA()),2&r&&(t.Q6J("formGroup",n.userForm),t.xp6(12),t.Q6J("disabled",!n.userForm.valid))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u],styles:[".auth-form{text-align:center;padding:0 10% 10%}form,.auth-form button{padding:2%}button{color:var(--white);font-weight:900}.auth-form button.btn-primary{border:2px solid var(--master_third_color_darker);background:var(--master_third_color)}.loginForm,.auth-form{font-size:32px}loginForm>label,auth-form.loginForm>div>label{font-size:40px;font-weight:bold;padding:5px;color:var(--master_secundairy_color)}input{font-size:22px;width:50%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input[type=checkbox]{width:5%;color:var(--smokey-black);border:2px solid var(--master_primairy_color_light)}input.ng-invalid .ng-touched{border:3px solid var(--master_primairy_color)}.filer-section{margin:0 15%;height:10vw;width:70%;background:url(space.c1cd123c014f7957.jpg) fixed no-repeat;text-align:center;padding:0}.filer-section>figure{position:absolute;height:inherit;width:100%;background:var(--transparent_white)}.filer-section>button{position:relative;top:10%;margin:auto;z-index:2;border-radius:5px;border:2px solid var(--master_primairy_color);background:var(--master_primairy_color);font-size:22px;box-shadow:var(--box-shadow)}\n"],encapsulation:2}),e})()}]}];let x=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[i.Bz.forChild(Z)],i.Bz]}),e})(),y=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,o.UX,x]]}),e})()},645:(b,u,a)=>{a.d(u,{k:()=>d});class d{constructor(i,t,c,p){this._id=null,this._name=i,this._email=t,this._passcode=c,this._roles=p}get name(){return this._name}set name(i){this._name=i}get email(){return this._email}set email(i){this._email=i}get roles(){return this._roles}set roles(i){this._roles=i}get passcode(){return this._passcode}set passcode(i){this._passcode=i}}}}]);